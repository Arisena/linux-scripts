#!/bin/bash
#GoG Game Launcher version 3.7
#################################################################
: <<'Banner'
  ____        ____   _                           _ 
 / ___| ___  / ___| | |    __ _ _   _ _ __   ___| |__   ___ _ __ 
| |  _ / _ \| |  _  | |   / _` | | | | '_ \ / __| '_ \ / _ \ '__|
| |_| | (_) | |_| | | |__| (_| | |_| | | | | (__| | | |  __/ |   
 \____|\___/ \____| |_____\__,_|\__,_|_| |_|\___|_| |_|\___|_|   
                                                                 
Banner
#################################################################

#Source file for functions used in the script
source /usr/local/lib/redoTrap.sh

games=(/home/ari/GOG\ Games/*)
number=0

clear

printf "Starting\n"
printf "Scanning Game Dir\n"
sleep .5
printf "Games Found"
sleep .1
clear

sleep .2
#Prints out all options that appear in the array
echo "          ---Options---"
for element in "${games[@]}"
do
	sleep .2
    echo ": $number ${element:20}"
	number=$((number+1))
done
sleep .2
echo "          -------------"

sleep .4
read -p "Choice: " choice

if [ $choice -gt $number 2> /dev/null ] || [ $choice -lt 0 2> /dev/null ]
then
	echo "Input Error : Choice Not Listed : Restarting"
	redo
elif [ $choice -eq $choice 2> /dev/null ]
then
	exec "${games[$choice]}/start.sh"
else
	echo "Input Error : Restarting Script"
	redo
fi
